% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/geometric_asian.R
\name{price_geometric_asian}
\alias{price_geometric_asian}
\title{Price Geometric Asian Option with Price Impact}
\usage{
price_geometric_asian(
  S0,
  K,
  r,
  u,
  d,
  lambda,
  v_u,
  v_d,
  n,
  option_type = "call",
  validate = TRUE,
  method = "auto",
  n_simulations = 1e+05,
  seed = NULL
)
}
\arguments{
\item{S0}{Initial stock price (must be positive)}

\item{K}{Strike price (must be positive)}

\item{r}{Gross risk-free rate per period (e.g., 1.05)}

\item{u}{Base up factor in CRR model (must be > d)}

\item{d}{Base down factor in CRR model (must be positive)}

\item{lambda}{Price impact coefficient (non-negative)}

\item{v_u}{Hedging volume on up move (non-negative)}

\item{v_d}{Hedging volume on down move (non-negative)}

\item{n}{Number of time steps (positive integer)}

\item{option_type}{Character; either "call" (default) or "put"}

\item{validate}{Logical; if TRUE, performs input validation}

\item{method}{Character; "auto" (default), "exact", or "mc". Auto selects
exact for n <= 20, Monte Carlo otherwise}

\item{n_simulations}{Number of Monte Carlo simulations (default: 100000).
Only used when method="mc" or auto-selected}

\item{seed}{Random seed for Monte Carlo (NULL for no seed)}
}
\value{
Geometric Asian option price (numeric). When using Monte Carlo,
  only the price is returned; use \code{\link{price_geometric_asian_mc}} directly
  for full MC output including standard error and confidence intervals.
}
\description{
Computes the price of a geometric Asian option (call or put) using the
Cox-Ross-Rubinstein (CRR) binomial model with price impact from
hedging activities. Automatically selects between exact enumeration (n <= 20)
and Monte Carlo simulation (n > 20).
}
\details{
The geometric Asian option payoff is:
\itemize{
  \item Call: \eqn{V_n = \max(0, G_n - K)}
  \item Put: \eqn{V_n = \max(0, K - G_n)}
}
where \eqn{G_n = (S_0 \cdot S_1 \cdot \ldots \cdot S_n)^{1/(n+1)}}

Price impact modifies the stock dynamics:
\itemize{
  \item Effective up factor: \eqn{\tilde{u} = u \cdot e^{\lambda v^u}}
  \item Effective down factor: \eqn{\tilde{d} = d \cdot e^{-\lambda v^d}}
  \item Risk-neutral probability: \eqn{p^{eff} = \frac{r - \tilde{d}}{\tilde{u} - \tilde{d}}}
}

**Method Selection**:
\itemize{
  \item \strong{Exact} (n <= 20): Enumerates all \eqn{2^n} paths for exact pricing
  \item \strong{Monte Carlo} (n > 20): Simulates paths for efficient estimation
  \item \strong{Auto} (default): Chooses automatically based on n
}

For n > 20, exact enumeration requires > 1 million paths and becomes slow.
Monte Carlo provides fast, accurate estimates with quantifiable error bounds.
}
\examples{
# Small n: automatic exact method
price_geometric_asian(
  S0 = 100, K = 100, r = 1.05, u = 1.2, d = 0.8,
  lambda = 0, v_u = 0, v_d = 0, n = 10
)

# Large n: automatic Monte Carlo
\donttest{
price_geometric_asian(
  S0 = 100, K = 100, r = 1.05, u = 1.2, d = 0.8,
  lambda = 0.1, v_u = 1, v_d = 1, n = 30
)
}

# Force exact method
price_geometric_asian(
  S0 = 100, K = 100, r = 1.05, u = 1.2, d = 0.8,
  lambda = 0.1, v_u = 1, v_d = 1, n = 5, method = "exact"
)

# Force Monte Carlo with custom parameters
price_geometric_asian(
  S0 = 100, K = 100, r = 1.05, u = 1.2, d = 0.8,
  lambda = 0.1, v_u = 1, v_d = 1, n = 15,
  method = "mc", n_simulations = 50000, seed = 123
)

}
\references{
Cox, J. C., Ross, S. A., & Rubinstein, M. (1979).
Option pricing: A simplified approach.
\emph{Journal of Financial Economics}, 7(3), 229-263.
}
\seealso{
\code{\link{arithmetic_asian_bounds}}, \code{\link{compute_p_adj}},
  \code{\link{price_geometric_asian_mc}}
}
