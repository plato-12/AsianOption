% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/black_scholes.R
\name{price_black_scholes_binomial}
\alias{price_black_scholes_binomial}
\title{Black-Scholes Price Using Binomial Parameters}
\usage{
price_black_scholes_binomial(S0, K, r_gross, u, d, n, option_type = "call")
}
\arguments{
\item{S0}{Initial stock price (must be positive)}

\item{K}{Strike price (must be positive)}

\item{r_gross}{Gross risk-free rate for total period (e.g., 1.05 for 5\% over total period)}

\item{u}{Up factor in binomial tree (must be > 1)}

\item{d}{Down factor in binomial tree (must be < 1 and < u)}

\item{n}{Number of time steps (positive integer)}

\item{option_type}{Character: "call" or "put"}
}
\value{
European option price using Black-Scholes formula (numeric)
}
\description{
Converts binomial tree parameters (u, d, n) to continuous parameters
(sigma, T) and computes the Black-Scholes price. This provides a direct
comparison between the discrete CRR model and its continuous limit.
}
\details{
This function converts binomial parameters to continuous parameters using
the Cox-Ross-Rubinstein (CRR) matching conditions:

\strong{Time step:}
\deqn{\Delta t = T/n} where \eqn{T = 1} (total time in years)

\strong{Volatility extraction:}
From the CRR construction \eqn{u = e^{\sigma\sqrt{\Delta t}}}, \eqn{d = e^{-\sigma\sqrt{\Delta t}}}:
\deqn{\sigma = \frac{\log(u/d)}{2\sqrt{\Delta t}}}

\strong{Rate conversion:}
The gross rate \code{r_gross} is for the total period. The continuously
compounded annual rate is:
\deqn{r_{continuous} = \frac{\log(r_{gross})}{T} = \log(r_{gross})}

For example, if \code{r_gross = 1.05} (5\% over the total period),
then \code{r_continuous = log(1.05) = 0.04879}.
}
\section{Convergence}{

As \eqn{n \to \infty}, the CRR binomial price converges to the Black-Scholes
price when using the proper parameter conversions described above.

See \code{benchmark/THEORETICAL_CONNECTION.md} for the full mathematical
derivation and convergence analysis.
}

\examples{
# Compare with CRR binomial price (lambda=0)
S0 <- 100; K <- 100; r_gross <- 1.05; u <- 1.2; d <- 0.8; n <- 50

# Black-Scholes limit
bs_price <- price_black_scholes_binomial(S0, K, r_gross, u, d, n, "call")

# CRR binomial (no price impact)
crr_price <- price_european_call(S0, K, r_gross, u, d,
                                  lambda = 0, v_u = 0, v_d = 0, n = n)

cat("Black-Scholes:", bs_price, "\n")
cat("CRR Binomial:", crr_price, "\n")
cat("Difference:", abs(bs_price - crr_price), "\n")

}
\references{
Cox, J. C., Ross, S. A., & Rubinstein, M. (1979).
Option pricing: A simplified approach.
\emph{Journal of Financial Economics}, 7(3), 229-263.
\doi{10.1016/0304-405X(79)90015-1}
}
\seealso{
\code{\link{price_black_scholes_call}}, \code{\link{price_black_scholes_put}},
  \code{\link{price_european_call}}, \code{\link{price_european_put}}
}
